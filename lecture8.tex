\documentclass[12pt]{article}
\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{a4}

\mathsurround 1pt


\DeclareSymbolFont{rsfscript}{OMS}{rsfs}{m}{n}
\DeclareSymbolFontAlphabet{\mathrsfs}{rsfscript}
%для отношений Грина - например, $\mathrsfs{J}$

\begin{document}
\begin{center}
\large\bf Лекция 8, 25.11.11
\end{center}
\bf
\bf {Предложение 3:} \it{Если $f \sim _n g$ , то существует такое $h$, что $f \sim _n$h $ \sim _n g$   и $f$, $g$ являются последовательностью в $L$.}\\
\bf{    }

\it{Доказательство.} \normalfont {\it{$f \wedge g$} \normalfont - наидлиннейшая приставка слов $f$ и $g$.} \\

Индукция по $ \it{ k = |f|+|g|+2|f \wedge g|} $. \\

База индукции: $ k = 0 $ очевидно, так как в этом случае $ \it{f = g} $.\\

Можно считать, что ни одно из слов $f$ и $g$ не является подсловом в другом. Тогда можно записать $f$ и $g$ в таком виде: 
$f = uav$, $g = ubw$, где $ u = f \wedge g $ (самая длинная общая приставка), а $a \neq b$ буквы.
Хотим доказать что либо $ubw$ $ \sim _n$ $ubav$, либо $uav$ $ \sim _n$ $uabv$.\\

Докажем от противного: раз $ubw = g  \sim _n f$, а $f$ является подсловом в $ubav$, значит есть такое слово $r$ длины не более чем $n$, которое наличиствует в $ubav$, но отсутствует в $ubw$.\\

Аналогично, есть слово $s$ длины не более чем $n$, которое есть в $uabw$, но отсутствует в $ubv$.\\

Ясно, что выделенное вхождение $ubav$ буквы $b$ входит в $r$, а выделенное вхождение $a$ в $uabw$ входит в слово $s$.\\

Слово $g$: $\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}u}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}b} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}w}$\\

$r$: ~~~~~~~~~~~~~$\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}r_1}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}b} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}r_2}$\\

$ubav$:~~~~ $\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}u}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}b}\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}a} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}v}$\\
\\

Слово $f$: $\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}u}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}a} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}v}$\\

$s$: ~~~~~~~~~~~~~$\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}s_1}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}a} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}s_2}$ \\

$uabv$:~~~~ $\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}u}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}a} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}b} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}w}$\\

Более точно: $r = r_{1}br_{2}$, где $r_{1}$ - подслово в $u$, а $r_{2}$ подслово в $av$.\\
А $s = s_{1}as_{2}$, где $s_{1}$ - подслово в $u$, а $s_{2}$ подслово в $bw$.\\

Тогда $r_{1}b$ - не подслово в $u$, и аналогично, $s_{1}a$ - не подслово в u.\\

Запишем $r_{2}$ как $r_{2} = {r_{2}}^{''}{r_{2}}^{'} $, где ${r_{2}}^{''} = 1$ или $a$, а ${r_{2}}^{'} $ - подслово в $v$.\\

Аналогично, $s_{2} = {s_{2}}^{''}{s_{2}}^{'} $, где ${s_{2}}^{''} = 1$ или $a$, а ${s_{2}}^{'} $ - подслово в $w$.\\

$\left|r_{1}b{s_{2}}^{'} \right| + \left|s_{1}a{r_{2}}^{'} \right| \leq \left|r_{1}b{r_{2}}\right| + \left|s_{1}a{s_{2}}\right| = \left|r\right| + \left|s\right| \leq 2n$,значит, одно из этих слов имеет длину не больше чем $n$.\\

Пусть слово $\left|r_{1}b{s_{2}}^{'} \right| \leq n$. Это подслово в $ubw = g$, а значит, оно является подсловом в $f$.\\

~~~~$\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}r_{1}}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}b} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}{s_{2}}^{'}}$ \\
\\

$\overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}u}  \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,}}^{{}a} \overbrace{\underline{\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,}}^{{}w}$ \\

Отсюда $b{s_{2}}^{'}$ - подслово в $v$, т.е. $s_2$ - подслово в $v$. Но тогда ${s_{1}as_{2}}$ - подслово $f$, а это не так по выбору, т.е. получили противоречие. \\

Итак, доказали что либо $ubw \sim _n ubav$, либо $uav \sim _n uabw$.\\

Пусть, для определенности, $f = uav \sim _n uabw$. Тогда считаем:\\
$\left|uav\right| + \left|uabw\right| - 2(\left| uav \wedge uabw \right| + 1) \leq \left| f \right| + \left| g+ 1 \right| - 2(\left| f \wedge g \right| + 1) = \underbrace{\left| f \right| + \left| g \right| - 2\left| f \wedge g \right|}_{k} - 1 < k$\\

По предположению индукции, существует слово $h$ такое, что $h \sim _n f$ и $h \sim _n uabw$ и содержит $f$ и $uabv$ в качестве подслова.\\

Но $g$ есть подслово в $uabw$, а значит $g$ есть подслово в $h$. \\
\\

$L \subseteq \Sigma ^{*}$ \\
$A = (Q, \Sigma , \delta, q_{0}, F)$ - автомат.  \\
\it{$L$ распознается автоматом $A$} \normalfont, если $L = \left\{  w \in \Sigma ^{*} \left| \delta \left( q_{0} ,w \right) \in F \right\}  $.\\

\it{Язык $L$ распознается моноидом $M$} \normalfont если существует гомоморфизм $\varphi : \Sigma ^{*} \rightarrow M$ и множества $P \in M$ такие, что $L = \left\{ w \in \Sigma ^{*} \left| \varphi \left( u \right) \in P \right\} $.\\

Предыдущие 2 определения эквивалентны т.к.:
( $\Rightarrow$ ) Если $L$ распознается автоматом, то $L$ распознается и моноидом перехода.\\
( $\Leftarrow$ ) Построим по $M$ автомат, в роли $Q$ возьмем $M$, действия букв определим так: $ \delta (m,a) = m\varphi(a) $ (по определению), в роли $q_0$ возьмем 1, а в роли $F$ возьмем $p$.\\

\bf{Теорема Саймона:} \it{Язык кусочно-тестируем $\Leftrightarrow$ когда он распознается некоторым $J$-тривиальным моноидом}.\\

\normalfont ($\Rightarrow$) Проверено на прошлой лекции.\\

($\Leftarrow$) Пусть $M$ - $J$-тривиальный моноид.\\
$L \subseteq \Sigma^*$ и соответствующий гомоморфизм есть $u \mapsto \bar{u}$. Докажем, что $L$ является объединением $ \sim _{2n-1}$-классов, где $n$ - это максимальная длина цепей в $<M, \leq J>$\\

Это значит, что $f \sim _{2n-1} g$, влечет $\bar{f} = \bar{g}$.\\

По предложению 3 можно считать что $f$ подслово в $g$.\\

Представляя себе цепочку вставок букв, которая "`переделывает"' $f$ в $g$, понимаем что достаточно рассмотреть только случай вставки одной буквы.\\

Итак, считаем, что $f = uv \sim _{2n-1} uav = g$ и докажем, что $\bar{f} = \bar{g}$. Тогда, по преложению 1, либо $ua \sim _n u$, либо $av \sim _n v$.\\

Пусть 2-й случай имеет место.\\
Тогда, по предложению 2, существуют слова $v_{1},...,v_{n}$ такие, что $v = v_{1}v_{2}...v_{n}$ и $\left\{ a \right\} \leq c(v_{1}) \leq c(v_{2}) \leq ... \leq c(v_{n})$.\\

Рассмотрим последовательность $\overline{1} \geq \overline{v_{n}} \geq \overline{v_{n-1}v_{n}} \geq ... \geq \overline{v_{1}v_{2}..v_{n}}$.\\

По выбору $n$ в этой цепочки 2 элемента равны: $\overline{v_{i}..v_{j}..v_{n}} = \overline{v_{j}..v_{n}} = s$, $i<j$.\\

Пусть $b \in c(v_{i})$.\\
Тогда $v_i = {v_{i}}^{'}b{v_{i}}^{''}$, откуда $\overline{v_{i}..v_{n}} \leq \overline{b{v_{i}}^{''}..v_{n}} \leq \overline{v_j..v_n} \Rightarrow \overline{bs} = s$ для всех $b \in c(v_i)$. Значит, $\overline{a}s = s$.\\

Откуда $\overline{v} = \overline{v_1...v_n} = \overline{av_1...v_n} = \overline{av}$.
  






















\end{document}
